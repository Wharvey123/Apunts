# Atacs. Cicle de cinc fases

1: Reconeixement
=======================
Objectiu: Recopilació d'informació sobre el sistema objectiu.

Tècniques:
-----------
- Enginyeria social o trashing per aconseguir informació valuosa.
- Recerques a Internet.
- Capturar trànsit de xarxa (sniffing).
- Ús de l'ordre whois per obtenir dades del sistema.

Recursos: Whois.com, ICANN Whois.

2: Exploració
===================
Objectiu: Sondar el sistema per detectar vulnerabilitats explotables.

Accions:
--------
- Recopilar informació sobre comptes d'usuari, versions de sistemes operatius, aplicacions, i ports oberts.
- Utilització d'escàners de xarxa o de ports com nmap.
- Ordres com tracert (Windows) o traceroute (Linux/Unix) per rastrejar canvis de xarxa.

3: Accés
===============
Objectiu: Explotar vulnerabilitats per accedir al sistema.

Tècniques de Crackeig de Contrasenyes:
---------------------------------------
- Online: Tests en viu amb eines com Hydra.
- Offline: Extracció i anàlisi de contrasenyes encriptades, amb eines com Cain i Abel.

Evasió:
-------
- Evasió de Firewalls, IDS, IPS, i Honeypots.
- Eines: 007 Shell, ICMP Shell, AckCmd.

4: Manteniment de l'Accés
===============================
Objectiu: Preservar l'accés futur al sistema.

Mètodes:
---------
- Instal·lació de malware com cavalls de Troia i rootkits.

Accions:
---------
- Keylogging, captura de trànsit (sniffing), instal·lació de FTP il·lícits.
- Uso de Rootkits a nivells de Kernel, Llibreries, i Aplicacions.

5: Esborrat d'Empremtes
=============================
Objectiu: Ocultar l'activitat maliciosa i evitar detecció.

Pasos:
------
- Desactivar Auditoria del sistema si està activa.
- Eliminar registres (logs) del sistema i aplicacions compromeses.
- Eliminar evidència d'eines utilitzades mitjançant esteganografia.

# SERVEI DNS
El servei DNS és un protocol que s’utilitza per a la resolució de noms de domini. Aquest servei permet associar noms de domini a adreces IP i viceversa. El format del missatge DNS és una petició-resposta que conté diferents camps, com ara el codi d’operació, el tipus de registre, el nom de domini, etc.

Transaccions més comuns
Les transaccions més comuns que es realitzen amb el servei DNS són les següents:
------
- Consultes/respostes.
- Transferències de zona.
- Actualitzacions dinàmiques.
- Notificacions.
- Inseguretat del servei DNS. Riscos.

El servei DNS és vulnerable a diversos tipus d’atacs, que poden afectar la seva disponibilitat i integritat. Aquests riscos es poden classificar en les següents categories:
------
- Locals.
- Server-Server.
- Server master-Esclau.
- Server Master-Client Caché/resolver.
- Server-Client.
- Atacs i funcionament dels mateixos

Els atacs més comuns que es realitzen sobre el servei DNS són els següents:
------
- IP Spoofing.
- DNS Caché Poisoning.
- DoS.
- Man in the Middle.
- DNS tunneling.
- DoS DNS amplification attack.
- Capes servei DNS. Assegurament.

El servei DNS està compost per diferents capes que proporcionen diferents nivells d’assegurament. Algunes de les capes més importants són:
------
- Entorn base.
- S.O.
- Software Bind.
- Topologia de xarxa.
- Dades.
- Parametritzacions.
- Info registres de zona.
- Transaccions.
- Queries. Consultes/Respostes.
- Transferències de zona.
- Notificacions.
- Actualitzacions dinàmiques.
- Assegurament del servei DNS. Contramesures als atacs.

Per assegurar el servei DNS, es poden implementar diverses contramesures, com ara:
------
- DNSSEC. En què consisteix, i funcionament.
- Xifratge DNS.
- DNS over TLS i DNS over HTTPS.
- Els ports usats pel servei DNS són el 853 i el 443 per a DNS over TLS i DNS over HTTPS, respectivament. El port 53 UDP s’utilitza per a la majoria de les transaccions DNS
